<!DOCTYPE html>
<!-- saved from url=(0049)http://bootstrapk.com/examples/starter-template/# -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
     
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="http://bootstrapk.com/favicon.ico">
 
    <title>ì¸ê³µì§€ëŠ¥_ë°”ë¦¬ìŠ¤ë”°</title>
 
    <!-- Bootstrap core CSS -->
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
 
    <!-- Custom styles for this template -->
    <link href="/static/css/starter-template.css" rel="stylesheet">
 
  </head>
 
  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand">ë°”ë¦¬ìŠ¤ë”°</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a>â˜•</a></li>
            <li><a>ì •ìœ ë¦¬</a></li>
            <li><a>ê¹€í˜œì„ </a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
    <div class="container" style="text-align: center;">
      <div class="starter-template">
        <h2>ì›ë‘ êµ¬ë³„í• ë˜?â˜•</h2>
        <p class="lead">ë”¥ëŸ¬ë‹ì„ í™œìš©í•œ ì›ë‘ íŒë³„í•˜ê¸°<br>ìƒë‘, ë¼ì´íŠ¸, ë¯¸ë””ì—„, ë‹¤í¬ ë¡œìŠ¤íŒ…ì„ í™•ì¸ ê°€ëŠ¥â€¼ï¸ğŸ˜‰</p>
      </div>
      <form id="Upload" action="/predict" method="POST" enctype="multipart/form-data">
        <div class="button" style="text-align: center;"></div>
        <input type="file" value="Upload" name="image" onchange="loadFile(event);" style="margin: 0 auto;" />
        <div id="image_container" style="text-align: center;"></div>
        <button type="button" id="submitButton" onclick="submitForm()">ì œì¶œ</button>
        <p id="ha">ë¡œìŠ¤íŒ… ê²°ê³¼ê°€ ê¶ê¸ˆí•˜ë‚˜ìš”?â˜•ğŸ˜®</p>
      </form>
      <div class="image-container" id="image-show"></div>   
      <div id="result-container">
        {% if data %}
          <p id="result">{{ data }}ë¡œìŠ¤íŒ… ëœ ìƒíƒœì…ë‹ˆë‹¤.â˜•</p>
        {% else %}
          <p id="result">ì»¤í”¼ì˜ ìƒíƒœë¥¼ íŒë³„í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
        {% endif %}
    </div>
   <script src="/static/js/jquery.min.js"></script>    
    <script>
      function submitForm() {
        var formData = new FormData(document.getElementById('Upload'));
        var submit = document.getElementById('submitButton');
        submit.onclick = showImage;
        $.ajax({
          type: 'POST',
          url: '/predict',
          data: formData,
          contentType: false,
          processData: false,
          beforeSend: function () {
            document.getElementById('ha').innerHTML = 'ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”!';
          },
          success: function (response) {
            console.log(response.data);
            var resultContainer = document.getElementById('result-container');
            resultContainer.style.display = 'block';
            var result = document.getElementById('result');
            result.textContent = "ì»¤í”¼ì˜ ìƒíƒœëŠ” " + response.data + "ë¡œìŠ¤íŒ…ëœ ìƒíƒœì…ë‹ˆë‹¤!";
          },
          error: function (error) {
            console.log(error);
          }
        });
      }
      function showImage() {
        document.getElementById('ha').innerHTML = 'ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”!';
        document.getElementById('image-show').lastElementChild;
        // Define 'img' variable
        img.style.visibility = "visible";
        document.getElementById('image-show').style.visibility = 'visible';
        document.getElementById('fileName').textContent = null; //ê¸°ì¡´ íŒŒì¼ ì´ë¦„ ì§€ìš°ê¸°
      }
      function coffe(){
        document.getElementById('ha').innerHTML='ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”!';
      }
      
      function loadFile(event) {
        var reader = new FileReader();
        reader.onload = function (event) {
         var img = document.createElement("img");
         img.setAttribute("src", event.target.result);
         document.querySelector("div#image_container").appendChild(img);
        img.style.width = "40%";
         img.style.height = "40%";
         img.style.visibility = "visible"; //ë²„íŠ¼ì„ ëˆ„ë¥´ê¸° ì „ê¹Œì§€ëŠ” ì´ë¯¸ì§€ ìˆ¨ê¸°ê¸°
        img.style.objectFit = "contain";
        var container = document.getElementById('image-show');
        container.appendChild(img);
          
        };    
        reader.readAsDataURL(event.target.files[0]);
      } 
    </script>
 
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
 
</body></html>